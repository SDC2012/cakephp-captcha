<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Cakephp-captcha : Captcha implementation for CakePHP 2.2 (Behavior and Component)" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Cakephp-captcha</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/donovan-duplessis/cakephp-captcha">View on GitHub</a>

          <h1 id="project_title">Cakephp-captcha</h1>
          <h2 id="project_tagline">Captcha implementation for CakePHP 2.2 (Behavior and Component)</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/donovan-duplessis/cakephp-captcha/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/donovan-duplessis/cakephp-captcha/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>Captcha implementation for CakePHP 2.2</h1>

<p>Generates an image with random alphanumeric characters which requires a human to validate.  This is to prevent automated spam and spam bots.</p>

<p>Features:</p>

<ul>
<li>Random alphanumeric text</li>
<li>Supports rotation of text</li>
<li>The image width and height dimensions can be set</li>
<li>The font size can be adjusted</li>
<li>Random monospace fonts are used during generation (anonymous, droidsans, ubuntu)</li>
</ul><h2>Website</h2>

<p><a href="http://donovan-duplessis.github.com/cakephp-captcha">http://donovan-duplessis.github.com/cakephp-captcha</a></p>

<h2>Requirements</h2>

<ul>
<li>PHP version: 5.2+</li>
<li>CakePHP version: 2.0+</li>
</ul><h2>Installation</h2>

<p>Clone or download the component:</p>

<pre><code>git clone git://github.com/donovan-duplessis/cakephp-captcha.git
</code></pre>

<p>Copy the component and behavior into your framework at:</p>

<pre><code>cd cakephp-captcha
cp controllers/components/captcha.php &lt;your-app&gt;/controllers/components/
cp models/behaviors/captcha.php &lt;your-app&gt;/models/behaviors/
</code></pre>

<p>Copy the fonts into your framework at:</p>

<pre><code>cp -R webroot/fonts &lt;your-app&gt;/webroot/
chmod 755 &lt;your-app&gt;/webroot/fonts
</code></pre>

<h2>Usage</h2>

<p>Include Captcha behavior in model:<br></p>

<pre><code>public $actsAs = array('Captcha');
</code></pre>

<p>Include Captcha component in controller:</p>

<pre><code>public $components = array('Captcha');
</code></pre>

<p>To output the captcha image from controller:</p>

<pre><code>$this-&gt;Captcha-&gt;generate();
</code></pre>

<h2>Sample Code</h2>

<p>Model contact.php</p>

<pre><code>&lt;?php
class Contact extends AppModel {
    public $actsAs = array(
        'Captcha' =&gt; array(
            'field' =&gt; 'captcha',
            'error' =&gt; 'Captcha code entered invalid'
        )
    );
}
?&gt;
</code></pre>

<p>Controller contacts_controller.php</p>

<pre><code>&lt;?php
class ContactsController extends AppController {
    public $components = array(
        'Captcha' =&gt; array(
            'rotate' =&gt; true
        )
    );

    public function captcha()  {
        $this-&gt;autoRender = false;
        $this-&gt;Captcha-&gt;generate();
    }

    public function index() {
        if ($this-&gt;RequestHandler-&gt;isPost()) {
            $this-&gt;Contact-&gt;setCaptcha($this-&gt;Captcha-&gt;getCode());
            $this-&gt;Contact-&gt;set($this-&gt;data);
            if ($this-&gt;Contact-&gt;validates()) {
                $this-&gt;Session-&gt;setFlash('Captcha code validated successfully',
                    'flash_good');
            }
        }
    }
}
?&gt;
</code></pre>

<p>Route config/routes.php</p>

<pre><code>Router::connect('/img/captcha.jpg', array('controller' =&gt; 'contacts', 'action' =&gt; 'captcha'));
</code></pre>

<p>View contacts/index.ctp</p>

<pre><code>&lt;?php
    echo $this-&gt;Form-&gt;create('Contact');
    echo $this-&gt;Html-&gt;image('captcha.jpg', array('style' =&gt; 'padding: 0.5%;'));
    echo $this-&gt;Form-&gt;input('captcha');
    echo $this-&gt;Form-&gt;end('Send');
?&gt;
</code></pre>

<h2>License</h2>

<p>Licensed under The MIT License<br>
Redistributions of files must retain the above copyright notice.</p>

<h2>Copyright</h2>

<p>Copyright (C) Donovan du Plessis, <a href="mailto:donodp@gmail.com">donodp@gmail.com</a></p>

<h2>Contributors</h2>

<p>Adriano Luís Rocha, <a href="mailto:driflash@gmail.com">driflash@gmail.com</a></p>

<h2>Changelog</h2>

<h3>Component</h3>

<h3>1.2</h3>

<ul>
<li>Convert plugin to version 2.x of CakePHP Framework (Adriano Luís Rocha)</li>
</ul><h3>1.1</h3>

<ul>
<li>Rename __uniqueCode method to __randomCode</li>
<li>Use characters configuration parameter for length in __randomCode method</li>
<li>Add characters parameter to default configuration to specify number of characters to display in image</li>
</ul><h3>1.0</h3>

<ul>
<li>Initial version</li>
</ul><h3>Behavior</h3>

<h3>1.1</h3>

<ul>
<li>Extract default configuration settings into class variable</li>
</ul><h3>1.0</h3>

<ul>
<li>Initial version</li>
</ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Cakephp-captcha maintained by <a href="https://github.com/donovan-duplessis">donovan-duplessis</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
